---
title: Table Manager | Dynamode
description: Table Manager
sidebar_label: Table Manager
hide_title: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Table Manager

`TableManager` is used to perform operations on DynamoDB table. It also initializes [`Entity Managers`](/docs/guide/table/entityManager) that act as repositories for your models. 

## new TableManager(tableEntity, tableMetadata)

This constructor initializes TableManager class that acts as a repository that is used to perform operations on a DynamoDB table.

### Arguments

**`tableEntity`** - Table class that inherits from [Entity](/docs/guide/entity/modeling) class. It has to define all primary and secondary indexes defined on the DynamoDB table. To learn more check out [Modeling](/docs/guide/entity/modeling) page.

**`tableMetadata`** - Metadata that describes table name, primary key, secondary index keys and createdAt/updatedAt timestamps. Dynamode uses metadata in all underlying methods so be cautious when setting it up. 

| Name         | Description                           | Type                                                                 | Default   |
| :----------- | :------------------------------------ | :------------------------------------------------------------------- | :-------- |
| tableName    | Name of the table in DynamoDB         | string                                                               | N/A       |
| partitionKey | Name of the partition key             | string                                                               | N/A       |
| sortKey      | Name of the sort key                  | string                                                               | N/A       |
| indexes      | Object that defines secondary indexes | `{ [indexName: string], {partitionKey?: string; sortKey?:string } }` | N/A       |
| createdAt    | Name of the createdAt timestamp       | string                                                               | undefined |
| updatedAt    | Name of the updatedAt timestamp       | string                                                               | undefined |

### Examples

AllPossibleProperties model is defined [here](/docs/guide/entity/modeling#all-possible-properties). To initialize its table manager, use `TableManager` constructor.

```ts
import TableManager from 'dynamode/table';

const AllPossiblePropertiesTableManager = new TableManager(AllPossibleProperties, {
  tableName: TABLE_NAME,
  partitionKey: 'partitionKey',
  sortKey: 'sortKey',
  indexes: {
    GSI_1_NAME: {
      partitionKey: 'GSI_1_PK',
      sortKey: 'GSI_1_SK',
    },
    LSI_1_NAME: {
      sortKey: 'LSI_1_SK',
    },
  },
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
});
```

## TableManager.entityManager(entity?)

This method initializes [`EntityManager`](/docs/guide/table/entityManager) class that acts as a repository that is used to perform operations on a given model. To learn more check out [`Entity Manager`](/docs/guide/table/entityManager) page.

### Arguments

You can add optional `entity` parameter which is a model that inherits from `tableEntity` class.

| Name   | Description | Type                                          | Default                                                       |
| :----- | :---------- | :-------------------------------------------- | :------------------------------------------------------------ |
| entity | `Entity`    | Entity class that inherits from `tableEntity` | `tableEntity` (argument passed in `TableManager` constructor) |


### Examples

[BaseTable](/docs/guide/entity/modeling#inheritance) is an example class that extends [Entity](/docs/guide/table/entityManager).

```ts
import TableManager from 'dynamode/table';

const BaseTableManager = new TableManager(...);

// BaseTable entity manager
const BaseTableEntityManager = BaseTableManager.entityManager();

// EntityOne entity manager
const EntityOneManager = BaseTableManager.entityManager(EntityOne);

// EntityTwo entity manager
const EntityTwoManager = BaseTableManager.entityManager(EntityTwo);

// EntityThree entity manager
const EntityThreeManager = BaseTableManager.entityManager(EntityThree);
```

## TableManager.create(options?)

This method creates a DynamoDB table.

:::danger
This method isn't tested yet. Use it at your own risk.
:::

## TableManager.createIndex(indexName, options?)

This method creates a secondary index in DynamoDB table.

:::danger
This method isn't tested yet. Use it at your own risk.
:::

## TableManager.deleteIndex(indexName, options?)

This method deletes a secondary index in DynamoDB table.

:::danger
This method isn't tested yet. Use it at your own risk.
:::

## TableManager.validate(options?)

This method validates the integrity of TableEntity and DynamoDB table.

:::danger
This method isn't tested yet. Use it at your own risk.
:::